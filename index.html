<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Володя</title>
    <link href="https://fonts.googleapis.com/css2?family=UnifrakturCook:wght@700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/algebrite/1.0.0/algebrite.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.2.0/math.min.js"></script>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #121212;
            color: #ffffff;
        }

        .header {
            text-align: center;
            position: relative;
            margin-top: 50px;
            margin-bottom: 40px;
        }

        .header h1 {
            font-family: 'UnifrakturCook', cursive;
            font-size: 4rem;
            color: #BB86FC;
            text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.7), 3px 3px 0 rgba(255, 255, 255, 0.3);
            z-index: 1;
            position: relative;
        }

        nav {
            display: flex;
            align-items: center;
            background-color: #1E1E1E;
            padding: 10px 20px;
            justify-content: space-between;
        }

        .nav-image {
            width: 50px;
            height: auto;
            margin: 0 10px;
        }

        .menu {
            display: flex;
            flex-grow: 1;
            justify-content: space-around;
        }

        .menu-button {
            background-color: #2A2A2A;
            color: #ffffff;
            border: none;
            padding: 12px 25px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            margin: 0 10px;
        }

        .menu-button:hover {
            background-color: #3A3A3A;
            transform: scale(1.05);
        }

        .menu-button:active {
            background-color: #BB86FC;
            transform: scale(0.95);
        }

        .submenu {
            display: none;
            margin-top: 20px;
            padding: 10px;
            background-color: #2A2A2A;
        }

        .flex-container {
            display: flex;
            margin-top: 20px;
        }

        .nav-section {
            flex: 1;
            padding-right: 20px;
        }

        .content-section {
            flex: 2;
        }

        .content-block {
            display: none;
            padding: 10px;
            margin-top: 10px;
            background-color: #1E1E1E;
            border-radius: 5px;
        }

        .content-block.active {
            display: block;
        }

        footer {
            background-color: #1E1E1E;
            text-align: center;
            padding: 10px;
            color: #B0BEC5;
        }

        summary {
            cursor: pointer;
            font-weight: bold;
            color: #BB86FC;
        }

        .nav-button {
            background-color: #2A2A2A;
            color: #ffffff;
            border: none;
            padding: 10px;
            margin: 5px 0;
            width: 100%;
            text-align: left;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }

        .nav-button:hover {
            background-color: #3A3A3A;
            transform: scale(1.05);
        }

        .nav-button:active {
            background-color: #BB86FC;
            transform: scale(0.95);
        }

        .calculator {
            margin-top: 20px;
            padding: 20px;
            background-color: #1E1E1E;
            border-radius: 5px;
        }

        input[type="text"] {
            width: calc(100% - 24px);
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #BB86FC;
            border-radius: 5px;
            background-color: #2A2A2A;
            color: #ffffff;
        }

        .calc-d {
            background-color: #BB86FC;
            color: #ffffff;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }

        .calc-d:hover {
            background-color: #9B6BFC;
            transform: scale(1.05);
        }

        .calc-d:active {
            background-color: #8A5BFC;
            transform: scale(0.95);
        }
    </style>
</head>

<body>
    <div class="header">
        <h1 data-text="Нагорнюк Никита Владимирович">Нагорнюк Никита Владимирович</h1>
    </div>

    <nav>
        <img src="https://otvet.imgsmail.ru/download/213619861_4ca14290ae843d61a3fccbea523ccfb8_800.jpg" alt="Изображение" class="nav-image">
        <div class="menu">
            <button class="menu-button" onclick="toggleSubMenu('calc')">Калькуляторы</button>
            <button class="menu-button" onclick="toggleSubMenu('material')">Справочные материалы</button>
            <button class="menu-button" onclick="toggleSubMenu('tests')">Тесты</button>
            <button class="menu-button" onclick="Login()">Войти</button>
        </div>
    </nav>

    <div id="material" class="submenu">
        <div class="flex-container">
            <div class="nav-section">
                <button class="nav-button" onclick="OpenDeriviateInfo()">Производные</button>
                <button class="nav-button" onclick="OpenMediaQuery()">Предел числовой последовательности и функции в точке</button>
            </div>
        </div>
    </div>

    <div id="tests" class="submenu">
        <div class="flex-container">
            <div class="nav-section">
                <button class="nav-button" onclick="OpenDeriviateTest()">Производные</button>
                <button class="nav-button" onclick="">Пределы</button>
            </div>
        </div>
    </div>

    <div id="calc" class="submenu">
        <div class="flex-container">
            <div class="nav-section">
                <button class="nav-button" onclick="showContent('derivativeCalculator')">Калькулятор производной</button>
                <button class="nav-button" onclick="showContent('limitSequence')">Калькулятор пределов</button>
            </div>

            <div class="content-section">
                <div id="derivativeCalculator" class="content-block">
                    <h3>Калькулятор производной</h3>
                    <div class="calculator">
                        <label for="functionInput">Введите функцию:</label>
                        <input type="text" id="functionInput" placeholder="например, x^2 + 3*x + 1">
                        <button class="calc-d" onclick="calculateDerivative()">Вычислить производную</button>
                        <div id="result" style="margin-top: 10px;"></div>
                    </div>
                </div>
                
                <div id="limitSequence" class="content-block">
                    <h3>Калькулятор предела числовой последовательности</h3>
                    <div class="calculator">
                        <label for="sequenceInput">Введите последовательность (например, 1/n):</label>
                        <input type="text" id="sequenceInput" placeholder="например, 1/n">
                        <button class="calc-d" onclick="calculateLimit()">Вычислить предел</button>
                        <div id="limitResult" style="margin-top: 10px;"></div>
                    </div>
                </div>

                <div id="preformatted" class="content-block">
                    <h3>Предварительно отформатированный текст</h3>
                    <pre>
                        Ветер шумит в листве,
                        Словно шепчет мне,
                        О том, что жизнь прекрасна,
                        И счастье в сердце есть.
                    </pre>
                </div>
                <!-- Add more content blocks as needed -->
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2024 Нагорнюк Никита Владимирович. Все права защищены.</p>
        <p>Email: volodya.bober@gmail.com</p>
    </footer>

    <script>
        function toggleSubMenu(menuId) {
            const calcSubmenu = document.getElementById("calc");
            const materialsSubmenu = document.getElementById("material");
            const testsSubmenu = document.getElementById('tests');

            if (menuId === 'calc') {
                calcSubmenu.style.display = calcSubmenu.style.display === "none" || calcSubmenu.style.display === "" ? "block" : "none";
                materialsSubmenu.style.display = "none"; // Hide materials submenu
                testsSubmenu.style.display = "none"; // Hide tests submenu
                clearContent();
            } else if (menuId === 'material') {
                materialsSubmenu.style.display = materialsSubmenu.style.display === "none" || materialsSubmenu.style.display === "" ? "block" : "none";
                calcSubmenu.style.display = "none"; // Hide calculators submenu
                testsSubmenu.style.display = "none"; // Hide tests submenu
                clearContent();
            } else if (menuId === 'tests') {
                testsSubmenu.style.display = testsSubmenu.style.display === "none" || testsSubmenu.style.display === "" ? "block" : "none";
                calcSubmenu.style.display = "none"; // Hide calculators submenu
                materialsSubmenu.style.display = "none"; // Hide materials submenu
            }
        }

        function showContent(contentId) {
            const contents = document.querySelectorAll('.content-block');
            contents.forEach(content => {
                content.classList.remove('active');
            });
            const selectedContent = document.getElementById(contentId);
            selectedContent.classList.add('active');
        }

        function clearContent() {
            const contents = document.querySelectorAll('.content-block');
            contents.forEach(content => {
                content.classList.remove('active');
            });
        }

        function calculateLimit() {
    const expression = document.getElementById('sequenceInput').value;
    const resultDiv = document.getElementById('limitResult');

    try {
        // Определяем функцию от x
        const f = math.compile(expression);

        // Проверяем, является ли выражение линейным
        if (expression.trim() === 'n') {
            resultDiv.innerText = `Предел функции ${expression} при x → ∞ равен: бесконечность`;
            return;
        }

        // Проверяем значение при большом x
        const limitAtInfinity = f.evaluate({ x: 1e10 }); // Приближаемся к бесконечности
        const limitAtNegativeInfinity = f.evaluate({ x: -1e10 }); // Приближаемся к -бесконечности

        // Форматируем вывод
        let formattedLimit;

        // Логика для определения предела
        if (limitAtInfinity === Infinity || limitAtNegativeInfinity === Infinity) {
            formattedLimit = 'бесконечность';
        } else if (limitAtInfinity === -Infinity || limitAtNegativeInfinity === -Infinity) {
            formattedLimit = '-бесконечность';
        } else {
            // Округляем до 4 знаков после запятой
            formattedLimit = limitAtInfinity.toFixed(4);
        }

        resultDiv.innerText = `Предел функции ${expression} при x → ∞ равен: ${formattedLimit}`;
    } catch (error) {
        resultDiv.innerText = "Ошибка: " + error.message;
    }
}

        function calculateDerivative() {
            const expression = document.getElementById('functionInput').value;
            const resultDiv = document.getElementById('result');

            try {
                const f = math.compile(expression);
                const derivative = math.derivative(expression, 'x');
                resultDiv.innerText = `Производная функции ${expression} равна: ${derivative.toString()}`;
            } catch (error) {
                resultDiv.innerText = "Ошибка: " + error.message;
            }
        }

        function OpenDeriviateInfo() {
            window.location.href = 'deriviate_info.html';
        }

        function OpenMediaQuery() {
            window.location.href = 'mediaquery.html';
        }

        function OpenDeriviateTest() {
            window.location.href = 'deriviate_test.html';
        }

        function Login() {
            window.location.href = 'login.php';
        }
    </script>
</body>

</html>